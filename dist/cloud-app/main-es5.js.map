{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/snackbar/snackbar.component.ts","webpack:///src/app/components/snackbar/snackbar.component.html","webpack:///src/app/interceptors/api-request.interceptor.ts","webpack:///src/app/interceptors/token.interceptor.ts","webpack:///src/app/login/login-callback.component.ts","webpack:///src/app/logout/logout-callback.component.ts","webpack:///src/app/services/auth.service.ts","webpack:///src/app/services/configuration.service.ts","webpack:///src/app/services/snackbar.service.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","routes","path","component","AppRoutingModule","forRoot","imports","AppComponent","configurationService","httpClient","title","apis","get","services","authConfig","window","location","href","baseURL","domain","clientId","origin","apiConfig","response","subscribe","setTimeout","localStorage","getItem","JSON","parse","signOut","selector","templateUrl","styleUrls","AppModule","provide","useFactory","initApp","deps","multi","useClass","declarations","providers","bootstrap","load","SnackbarComponent","ApiRequestInterceptor","snackbarService","request","next","handle","pipe","event","err","status","open","error","message","TokenInterceptor","authService","dupReq","clone","headers","set","getToken","LoginCallbackComponent","router","handleAuthentication","authentSuccess","userInfo","res","navigate","template","LogoutCallbackComponent","clear","navigateByUrl","AuthService","CALLBACK_ACCESS_TOKEN_PATTERN","CALLBACK_ERROR_PATTERN","CALLBACK_ERROR_DESCRIPTION_PATTERN","oauthErrorCallback","match","oauthErrorDescriptionCallback","oauthCallbackParameters","length","create","observer","rawAccessToken","accessTokenArray","split","accessTokenMap","i","setItem","stringify","ConfigurationService","key","reduce","prev","curr","config","reject","xhr","XMLHttpRequest","addEventListener","readyState","DONE","responseText","send","providedIn","SnackbarService","snackBar","duration","errors","snackBarRef","openFromComponent","instance","environment","production","bootstrapModule","console"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport {LoginCallbackComponent} from './login/login-callback.component';\nimport {LogoutCallbackComponent} from './logout/logout-callback.component';\n\n\nconst routes: Routes = [\n  { path: 'login/callback', component: LoginCallbackComponent },\n  { path: 'logout/callback', component: LogoutCallbackComponent },\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Component, OnInit} from '@angular/core';\nimport {ConfigurationService} from './services/configuration.service';\nimport {HttpClient} from '@angular/common/http';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'cloud-app';\n  apis = [];\n  response: any;\n\n  constructor(private configurationService: ConfigurationService,\n              private httpClient: HttpClient) {\n    this.title = configurationService.get('title');\n  }\n\n  ngOnInit(): void {\n    this.apis = this.configurationService.get('api').services;\n  }\n\n  signIn() {\n    const authConfig = this.configurationService.get('auth');\n    window.location.href = authConfig.baseURL + '/' + authConfig.domain + '/oauth/authorize?client_id=' + authConfig.clientId + '&response_type=token&redirect_uri=' + window.location.origin + '/login/callback';\n  }\n\n  signOut() {\n    const authConfig = this.configurationService.get('auth');\n    window.location.href = authConfig.baseURL + '/' + authConfig.domain + '/logout?target_url=' + window.location.origin + '/logout/callback';\n  }\n\n  call(path): void {\n    const apiConfig = this.configurationService.get('api');\n    this.response = 'Loading ...';\n    this.httpClient.get<any>(apiConfig.baseURL + path).subscribe(response => {\n      setTimeout(() => this.response = response, 1500);\n    });\n  }\n\n  get user(): any {\n    return localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : null;\n  }\n}\n","<!--\n\n    Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n            http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<div class=\"toolbar\" role=\"banner\">\n  <a [routerLink]=\"['']\">\n    <img width=\"40\" alt=\"Company Logo\" src=\"assets/theme/company-logo.png\"/>\n  </a>\n  <span>Welcome to {{title}}</span>\n    <div class=\"spacer\"></div>\n    <button *ngIf=\"!user\" mat-stroked-button (click)=\"signIn()\">Sign In</button>\n    <button *ngIf=\"user\"  class=\"userAccountMenu\" mat-icon-button [matMenuTriggerFor]=\"userAccountMenu\" disableRipple>\n      <img [src]=\"'assets/default-account-icon.png'\" alt=\"Photo of a user\" [width]=\"'30'\" style=\"border-radius: 50%;\"/>\n    </button>\n    <mat-menu #userAccountMenu=\"matMenu\" [overlapTrigger]=\"false\">\n      <div class=\"userAccount\" fxLayout=\"column\">\n        <div class=\"userAccountProfile\" style=\"display: flex; flex-direction: row;\">\n          <img [src]=\"'assets/default-account-icon.png'\" alt=\"Photo of a user\" [width]=\"'90'\" style=\"border-radius: 50%;\"/>\n          <div class=\"userAccountInfo\" fxLayout=\"column\" style=\"margin: 20px;\">\n            <h3>{{user?.name}}</h3>\n            <small>{{user?.preferred_username}}</small>\n          </div>\n        </div>\n        <div class=\"userAccountActions\">\n          <a (click)=\"signOut()\" mat-menu-item>\n            <mat-icon>exit_to_app</mat-icon>\n            <span>Sign Out</span>\n          </a>\n        </div>\n      </div>\n    </mat-menu>\n</div>\n\n<div class=\"content\" role=\"main\">\n  <!-- Resources -->\n  <h2>APIs</h2>\n  <p>Here are some services to get started:</p>\n\n  <div class=\"card-container\">\n    <a class=\"card\" *ngFor=\"let api of apis\" (click)=\"call(api.path)\">\n      <span>{{api.name}}</span>\n      <svg class=\"material-icons\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/></svg>\n    </a>\n  </div>\n\n  <div class=\"card-content\">\n    <pre>{{response | json}}</pre>\n  </div>\n\n  <svg id=\"clouds\" alt=\"Gray Clouds Background\" xmlns=\"http://www.w3.org/2000/svg\" width=\"2611.084\" height=\"485.677\" viewBox=\"0 0 2611.084 485.677\">\n    <path id=\"Path_39\" data-name=\"Path 39\" d=\"M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z\" transform=\"translate(142.69 -634.312)\" fill=\"#eee\"/>\n  </svg>\n\n</div>\n<router-outlet></router-outlet>\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {BrowserModule} from '@angular/platform-browser';\nimport {APP_INITIALIZER, NgModule} from '@angular/core';\nimport {AppRoutingModule} from './app-routing.module';\nimport {AppComponent} from './app.component';\nimport {NoopAnimationsModule} from '@angular/platform-browser/animations';\nimport {MatButtonModule} from '@angular/material/button';\nimport {MatButtonToggleModule} from '@angular/material/button-toggle';\nimport {ConfigurationService} from './services/configuration.service';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {SnackbarComponent} from './components/snackbar/snackbar.component';\nimport {MatListModule} from '@angular/material/list';\nimport {AuthService} from './services/auth.service';\nimport {LoginCallbackComponent} from './login/login-callback.component';\nimport {LogoutCallbackComponent} from './logout/logout-callback.component';\nimport {ApiRequestInterceptor} from './interceptors/api-request.interceptor';\nimport {SnackbarService} from './services/snackbar.service';\nimport {MatSnackBarModule} from '@angular/material/snack-bar';\nimport {MatIconModule} from '@angular/material/icon';\nimport {MatMenuModule} from '@angular/material/menu';\nimport {TokenInterceptor} from './interceptors/token.interceptor';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SnackbarComponent,\n    LoginCallbackComponent,\n    LogoutCallbackComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NoopAnimationsModule,\n    MatListModule,\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatSnackBarModule,\n    MatIconModule,\n    MatMenuModule,\n    HttpClientModule\n  ],\n  providers: [\n    ConfigurationService,\n    AuthService,\n    SnackbarService,\n    {\n      provide: APP_INITIALIZER,\n      useFactory: initApp,\n      deps: [ConfigurationService],\n      multi: true\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: TokenInterceptor,\n      multi: true\n    },\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: ApiRequestInterceptor,\n      multi: true\n    },\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\nexport function initApp(configurationService: ConfigurationService) {\n  return () => configurationService.load();\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-snackbar',\n  templateUrl: './snackbar.component.html',\n  styleUrls: ['./snackbar.component.scss']\n})\nexport class SnackbarComponent {\n  public title: string;\n  public errors: any[];\n\n  constructor() { }\n}\n","<!--\n\n    Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n\n    Licensed under the Apache License, Version 2.0 (the \"License\");\n    you may not use this file except in compliance with the License.\n    You may obtain a copy of the License at\n\n            http://www.apache.org/licenses/LICENSE-2.0\n\n    Unless required by applicable law or agreed to in writing, software\n    distributed under the License is distributed on an \"AS IS\" BASIS,\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n    See the License for the specific language governing permissions and\n    limitations under the License.\n\n-->\n<mat-list>\n  <h3 matSubheader>{{title}}</h3>\n  <mat-list-item *ngFor=\"let error of errors\">\n    <h4 matLine>{{error}}</h4>\n  </mat-list-item>\n</mat-list>\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {tap} from 'rxjs/operators';\nimport {HttpErrorResponse, HttpEvent, HttpHandler, HttpInterceptor, HttpRequest, HttpResponse} from '@angular/common/http';\nimport {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {SnackbarService} from '../services/snackbar.service';\n\n@Injectable()\nexport class ApiRequestInterceptor implements HttpInterceptor {\n\n  constructor(private snackbarService: SnackbarService) {}\n\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return next.handle(request).pipe(tap((event: HttpEvent<any>) => {\n      if (event instanceof HttpResponse) {\n        // do stuff with response if you want\n      }\n    }, (err: any) => {\n      if (err instanceof HttpErrorResponse) {\n        if (err.status === 401) {\n          this.snackbarService.open('Unauthorized');\n        } else if (err.status === 403) {\n          this.snackbarService.open('Access denied');\n        } else {\n          this.snackbarService.open(err.error.message || 'Server error');\n        }\n      }\n    }));\n  }\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Injectable} from '@angular/core';\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\nimport {AuthService} from '../services/auth.service';\nimport {Observable} from 'rxjs';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n  constructor(public authService: AuthService) {}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n\n    const dupReq = req.clone({ headers: req.headers.set('Authorization', `Bearer ${this.authService.getToken()}`) });\n    return next.handle(dupReq);\n  }\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AuthService} from '../services/auth.service';\n\n@Component({\n  selector: 'app-login-callback',\n  template: ``\n})\nexport class LoginCallbackComponent implements OnInit {\n\n  constructor(private authService: AuthService, private router: Router) {\n  }\n\n  ngOnInit(): void {\n    this.authService.handleAuthentication().subscribe(authentSuccess => {\n      if (authentSuccess) {\n          this.authService.userInfo().subscribe(res => {\n            this.router.navigate(['/']);\n          });\n      }\n    }, error => {\n      this.router.navigate(['/logout']);\n    });\n  }\n\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-logout-callback',\n  template: ``\n})\nexport class LogoutCallbackComponent implements OnInit {\n\n  constructor(private router: Router) {\n  }\n\n  ngOnInit(): void {\n    localStorage.clear();\n    this.router.navigateByUrl('/');\n  }\n\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Injectable} from '@angular/core';\nimport {HttpClient} from '@angular/common/http';\nimport {ConfigurationService} from './configuration.service';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Injectable()\nexport class AuthService {\n\n  private CALLBACK_ACCESS_TOKEN_PATTERN = '#access_token=(.*)';\n  private CALLBACK_ERROR_PATTERN  = '#error=(.*)';\n  private CALLBACK_ERROR_DESCRIPTION_PATTERN = 'error_description=(.*)';\n\n  constructor(private httpClient: HttpClient,\n              private configurationService: ConfigurationService) { }\n\n  getToken(): string {\n    return localStorage.getItem('token');\n  }\n\n  handleAuthentication(): Observable<boolean> {\n    const href = window.location.href;\n    // check error callback\n    const oauthErrorCallback = href.match(this.CALLBACK_ERROR_PATTERN);\n    if (oauthErrorCallback) {\n      const oauthErrorDescriptionCallback = href.match(this.CALLBACK_ERROR_DESCRIPTION_PATTERN);\n      return Observable.throw(oauthErrorDescriptionCallback[1]);\n    }\n\n    // check missing access token\n    const oauthCallbackParameters = href.match(this.CALLBACK_ACCESS_TOKEN_PATTERN);\n    if (!oauthCallbackParameters || oauthCallbackParameters.length <= 1) {\n      return Observable.throw('Missing access token in response');\n    }\n\n    return Observable.create(observer => {\n      const rawAccessToken = 'access_token=' + oauthCallbackParameters[1];\n      const accessTokenArray = rawAccessToken.split('&');\n      const accessTokenMap = [];\n      for(let i = 0; i < accessTokenArray.length; i++) {\n        accessTokenMap[accessTokenArray[i].split('=')[0]] = accessTokenArray[i].split('=')[1];\n      }\n      if (accessTokenMap['access_token']) {\n        localStorage.setItem('token', accessTokenMap['access_token']);\n        observer.next(true);\n      } else {\n        observer.next(false);\n      }\n    });\n  }\n\n  userInfo() {\n    const authConfig = this.configurationService.get('auth');\n    return this.httpClient.get<any>(authConfig.baseURL + '/' + authConfig.domain + '/oidc/userinfo').pipe(map(res => {\n      localStorage.setItem('user', JSON.stringify(res));\n      return res;\n    }));\n  }\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Injectable} from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ConfigurationService {\n\n  private config: object;\n\n  constructor() {}\n\n  public get(key: string) {\n    return key.split('.').reduce((prev, curr) => prev && prev[curr], this.config);\n  }\n\n  public load() {\n    return new Promise((resolve, reject) => {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', 'constants.json');\n\n      xhr.addEventListener('readystatechange', () => {\n        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {\n          this.config = JSON.parse(xhr.responseText);\n          resolve(this.config);\n        } else if (xhr.readyState === XMLHttpRequest.DONE) {\n          reject();\n        }\n      });\n\n      xhr.send(null);\n    });\n  }\n}\n","/*\n * Copyright (C) 2015 The Gravitee team (http://gravitee.io)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Injectable } from '@angular/core';\nimport { MatSnackBar, MatSnackBarConfig } from '@angular/material/snack-bar';\nimport { SnackbarComponent } from '../components/snackbar/snackbar.component';\n\n@Injectable()\nexport class SnackbarService {\n\n  constructor(private snackBar: MatSnackBar) { }\n\n  open(message: string) {\n    const config = new MatSnackBarConfig();\n    config.duration = 1500;\n    this.snackBar.open(message, '', config);\n  }\n\n  openFromComponent(title: string, errors: any) {\n    const config = new MatSnackBarConfig();\n    config.duration = 3000;\n    const snackBarRef = this.snackBar.openFromComponent(SnackbarComponent, config);\n    snackBarRef.instance.title = title;\n    snackBarRef.instance.errors = errors;\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}